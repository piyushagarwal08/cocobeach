!function($){"use strict";$(document).ready(function($){function ere_archive_agent(){$(".sort-by",".archive-agent-action .sort-agent").on("click",function(a){var b=$(this);return a.preventDefault(),b.next("ul").hasClass("active")?(b.next("ul").removeClass("active"),b.removeClass("active")):(b.next("ul").addClass("active"),b.addClass("active")),!1}),$("li",".archive-agent-action .sort-agent").each(function(){var a=$(this);window.location.href.indexOf("sortby="+a.children().data("sortby"))>-1&&(a.addClass("active"),a.closest("ul").prev("span").html(a.children().html())),a.on("click","a",function(a){if($(this).closest("ul").removeClass("active"),$(this).parent().hasClass("active"))return a.preventDefault(),!1;$(this).closest("ul").prev("span").html($(this).html())})}),$(document).on("click",function(a){0==$(a.target).closest(".sort-agent").length&&$("ul",".sort-agent").each(function(){var a=$(this);a.hasClass("active")&&(a.removeClass("active"),a.prev("span").removeClass("active"))})}),$("span",".archive-agent-action .view-as").each(function(){var $this=$(this);window.location.href.indexOf("view_as")>-1?window.location.href.indexOf("view_as="+$this.data("view-as"))>-1&&$this.addClass("active"):$(".ere-agent",".ere-archive-agent").hasClass($this.data("view-as"))&&$this.addClass("active");var handle=!0;$this.on("click",function(event){var $view=$(this),$view_as=$view.data("view-as"),$agent_list=$view.closest(".ere-archive-agent").find(".ere-agent"),$ajax_url=$view.closest(".view-as").data("admin-url");if($view.hasClass("active")||!handle)return event.preventDefault(),!1;$view.closest(".view-as").find("span").removeClass("active"),$view.addClass("active"),$agent_list.fadeOut(),setTimeout(function(){"agent-list"==$view_as?$agent_list.removeClass("agent-grid").addClass("agent-list list-1-column"):$agent_list.removeClass("agent-list list-1-column").addClass("agent-grid"),$agent_list.fadeIn("slow")},400),$.ajax({url:$ajax_url,data:{action:"ere_agent_set_session_view_as_ajax",view_as:$view_as},success:function(){handle=!0},error:function(xhr){var err=eval("("+xhr.responseText+")");console.log(err.Message),$this.button("reset"),handle=!0}})})})}function ere_archive_agent_paging_control(){$(".paging-navigation",".ere-archive-agent").each(function(){var a=$(this);0===a.find("a.next").length?a.addClass("next-disable"):a.removeClass("next-disable")})}ere_archive_agent(),ere_archive_agent_paging_control()})}(jQuery);