!function($){"use strict";$(document).ready(function($){function ere_archive_property(){$(".property-filter-placeholder",".archive-property-action .sort-property").on("click",function(a){var b=$(this);return a.preventDefault(),b.next("ul").hasClass("active")?(b.next("ul").removeClass("active"),b.removeClass("active")):(b.next("ul").addClass("active"),b.addClass("active")),!1}),$("li",".archive-property-action .sort-property").each(function(){var a=$(this);window.location.href.indexOf("sortby="+a.children().data("sortby"))>-1&&(a.parent().children("li").removeClass("active"),a.addClass("active"),a.closest("ul").prev("span").html(a.children().html())),a.on("click","a",function(a){if($(this).closest("ul").removeClass("active"),$(this).parent().hasClass("active"))return a.preventDefault(),!1;$(this).closest("ul").prev("span").html($(this).html())})}),$("li",".archive-property-action .property-status").each(function(){var a=$(this);window.location.href.indexOf("status="+a.children().data("status"))>-1&&(a.parent().children("li").removeClass("active"),a.addClass("active"),a.closest("ul").prev("span").html(a.children().html()))}),$(document).on("click",function(a){0==$(a.target).closest(".sort-property").length&&$("ul",".sort-property").each(function(){var a=$(this);a.hasClass("active")&&(a.removeClass("active"),a.prev("span").removeClass("active"))})}),$("span",".archive-property-action .view-as").each(function(){var $this=$(this);window.location.href.indexOf("view_as")>-1?window.location.href.indexOf("view_as="+$this.data("view-as"))>-1&&$this.addClass("active"):$(".ere-property",".archive-property").hasClass($this.data("view-as"))&&$this.addClass("active");var handle=!0;$this.on("click",function(event){var $view=$(this),$view_as=$view.data("view-as"),$property_list=$view.closest(".ere-property-wrap").find(".ere-property"),$ajax_url=$view.closest(".view-as").data("admin-url");if(event.preventDefault(),$view.hasClass("active")||!handle)return!1;handle=!1,$view.closest(".view-as").find("span").removeClass("active"),$view.addClass("active"),$property_list.fadeOut(),setTimeout(function(){"property-list"==$view_as?$property_list.removeClass("property-grid").addClass("property-list list-1-column"):$property_list.removeClass("property-list list-1-column").addClass("property-grid"),$property_list.fadeIn("slow")},400),$.ajax({url:$ajax_url,data:{action:"ere_property_set_session_view_as_ajax",view_as:$view_as},success:function(){handle=!0},error:function(xhr){var err=eval("("+xhr.responseText+")");console.log(err.Message),$this.button("reset"),handle=!0}})})})}function ere_property_paging_control(){$(".paging-navigation",".ere-property").each(function(){var a=$(this);0===a.find("a.next").length?a.addClass("next-disable"):a.removeClass("next-disable")})}ere_archive_property(),ere_property_paging_control(),$("#ere_save_search").click(function(e){e.preventDefault();var $this=$(this),$form=$("#ere_save_search_form"),$ajax_url=$this.data("ajax-url");$.ajax({url:$ajax_url,data:$form.serialize(),method:$form.attr("method"),dataType:"JSON",beforeSend:function(){$this.children("i").remove(),$this.append('<i class="fa fa-spinner fa-spin"></i>')},success:function(a){void 0===a.success&&ERE.login_modal(),a.success&&($this.children("i").removeClass("fa-spinner fa-spin"),$this.children("i").addClass("fa-check"))},error:function(xhr){var err=eval("("+xhr.responseText+")");console.log(err.Message),$this.children("i").removeClass("fa-spinner fa-spin"),$this.children("i").addClass("fa-exclamation-triangle")},complete:function(){$this.children("i").removeClass("fa-spinner fa-spin")}})})})}(jQuery);